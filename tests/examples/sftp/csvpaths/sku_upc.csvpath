---- CSVPATH ----

~ description: Check for SKUs and UPCs
  id: upc-sku
  validation-mode: no-raise, no-stop
  unmatched-mode: keep

    sftp-user:SFTP_USER
    sftp-password:SFTP_PASSWORD
    sftp-server: localhost
    sftp-port: 10022
    sftp-target-path: var|name
    sftp-files: data.csv > data.csv, errors.json > foo.json, meta.json > var|name
    sftp-original: send

~
$[*][
    import($sftptest.csvpaths.top_matter_import)
    print("Line $.csvpath.line_number: $.csvpath.headers", "Headers by line")
    @name = "dirname"
    not.nocontrib( #SKU ) -> print("Line $.csvpath.count_lines: No SKU", fail())
    not.nocontrib( #UPC ) -> print("Line $.csvpath.count_lines: No UPC", fail())
    not(#SKU)
]

