
~ name: source1
~
$[*][
~
print("this is $.csvpath.identity at line $.csvpath.line_number working on data from $.csvpath.file_name with headers $.csvpath.headers")
~    #firstname #lastname
    append("count", count(), yes())
    collect("firstname", "lastname", "count")
]

---- CSVPATH ----

~ id: source2
  source-mode: preceding
  validation-mode: print, no-raise, no-stop
~
$[*][
    gt(#count, 4)
    append("thinking", random(0,5), yes() )
    print("this is $.csvpath.identity working on data from $.csvpath.file_name with headers: $.csvpath.headers")
    collect("firstname", "lastname", "thinking", "count")
]

---- CSVPATH ----

~ id: source3
  source-mode: preceding
~
$[*][
    print("this is $.csvpath.identity working on data from $.csvpath.file_name")
    print("$.headers.firstname, $.headers.lastname, $.headers.thinking")
    collect("firstname", "lastname", "thinking")
]


