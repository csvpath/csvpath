
~ name: source1
~
$[*][
    #firstname #lastname
    print("$.csvpath.identity: at line $.csvpath.line_number working on data from $.csvpath.file_name with headers $.csvpath.headers")
    print("headers are: $.csvpath.headers")
    append("count", count(), yes())
    collect("firstname", "lastname", "count")
]

---- CSVPATH ----

~ id: source2
  source-mode: preceding
  validation-mode: print, no-raise, no-stop
~
$[*][
    gt(#count, 4)
    print("$.csvpath.identity: working on data from $.csvpath.file_name with headers: $.csvpath.headers")
    print("$.csvpath.identity: headers are: $.csvpath.headers")
    append("thinking", random(0,5), yes() )
    collect("firstname", "lastname", "thinking", "count")
]

---- CSVPATH ----

~ id: source3
  source-mode: preceding
~
$[*][
    print("this is $.csvpath.identity working on data from $.csvpath.file_name")
    print("headers we're interested in: $.headers.firstname, $.headers.lastname, $.headers.thinking")
    print("$.csvpath.identity: headers are: $.csvpath.headers")
    collect("firstname", "lastname", "thinking")
]


